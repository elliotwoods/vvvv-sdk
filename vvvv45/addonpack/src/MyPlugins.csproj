<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" DefaultTargets="Build">
  <PropertyGroup Condition="'$(Configuration)|$(Platform)' == 'Debug|x86'">
    <OutputPath>bin\x86\Debug\</OutputPath>
  </PropertyGroup>
  <PropertyGroup>
    <OutputType>Library</OutputType>
  </PropertyGroup>
  <PropertyGroup>
    <StartupObject />
  </PropertyGroup>
  <Import Project="..\..\src\vvvv45.csproj" />
  <PropertyGroup>
    <ProjectGuid>{9B076BD5-8E94-471A-81BC-E4C59EB29A48}</ProjectGuid>
    <AddonPluginsOutputDir>$(MSBuildThisFileDirectory)..\lib\nodes\plugins\</AddonPluginsOutputDir>
    <PublishUrl>publish\</PublishUrl>
    <Install>true</Install>
    <InstallFrom>Disk</InstallFrom>
    <UpdateEnabled>false</UpdateEnabled>
    <UpdateMode>Foreground</UpdateMode>
    <UpdateInterval>7</UpdateInterval>
    <UpdateIntervalUnits>Days</UpdateIntervalUnits>
    <UpdatePeriodically>false</UpdatePeriodically>
    <UpdateRequired>false</UpdateRequired>
    <MapFileExtensions>true</MapFileExtensions>
    <ApplicationRevision>0</ApplicationRevision>
    <ApplicationVersion>1.0.0.%2a</ApplicationVersion>
    <IsWebBootstrapper>false</IsWebBootstrapper>
    <UseApplicationTrust>false</UseApplicationTrust>
    <BootstrapperEnabled>true</BootstrapperEnabled>
  </PropertyGroup>
  <ItemGroup>
    <!-- IDE seems to need this line, MSBuild not? -->
    <ProjectReference Include="..\..\..\..\..\kimchiandchips\Installations\HanRiver-VVVV\VVVV.Nodes.HanRiver\VVVV.Nodes.HanRiver.csproj">
      <Project>{0744AAD3-7772-43A3-AE3E-B82638D5ECBB}</Project>
      <Name>VVVV.Nodes.HanRiver</Name>
    </ProjectReference>
    <ProjectReference Include="@(ProjectReference)" Condition="'$(BuildingInsideVisualStudio)' == 'true'" />
    <ProjectReference Include="nodes\plugins\Devices\DeckLink\VVVV.Nodes.KC.DeckLink.csproj">
      <Project>{5EDB3C6E-2685-44F6-BD71-678CFC10AB31}</Project>
      <Name>VVVV.Nodes.KC.DeckLink</Name>
    </ProjectReference>
    <ProjectReference Include="nodes\plugins\Image\CLEye\VVVV.Nodes.OpenCV.CLEye.csproj">
      <Project>{D85DF4B0-CD35-44E3-AF07-FD0C66955FCB}</Project>
      <Name>VVVV.Nodes.OpenCV.CLEye</Name>
    </ProjectReference>
    <ProjectReference Include="nodes\plugins\Image\OpenCV\VVVV.Nodes.OpenCV.csproj">
      <Project>{E9A7FC26-34E0-4C1E-83D8-C01A169422B2}</Project>
      <Name>VVVV.Nodes.OpenCV</Name>
    </ProjectReference>
    <ProjectReference Include="nodes\plugins\Image\OpenNI\VVVV.Nodes.OpenCV.OpenNI.csproj">
      <Project>{D9D17924-98D5-468F-840E-3A3F8308BE35}</Project>
      <Name>VVVV.Nodes.OpenCV.OpenNI</Name>
    </ProjectReference>
    <ProjectReference Include="nodes\plugins\Image\VideoInput\VVVV.Nodes.OpenCV.VideoInput.csproj">
      <Project>{C111EF2E-E57C-480C-9E76-C6304AC02D79}</Project>
      <Name>VVVV.Nodes.OpenCV.VideoInput</Name>
    </ProjectReference>
    <ProjectReference Include="nodes\plugins\Value\TableBuffer\SpreadTableValue.csproj">
      <Project>{5CA291B6-E046-4EF5-9A7A-B4F983F85BBA}</Project>
      <Name>SpreadTableValue</Name>
    </ProjectReference>
  </ItemGroup>
  <ItemDefinitionGroup>
    <ProjectReference>
      <OutputDir>$(AddonPluginsOutputDir)</OutputDir>
    </ProjectReference>
  </ItemDefinitionGroup>
  <PropertyGroup>
    <BuildDependsOn>
      $(BuildDependsOn);
      AddonpackBuild
    </BuildDependsOn>
  </PropertyGroup>
  <Target Name="AddonpackBuild">
    <!-- Delete all files which are already in lib/core -->
    <Delete Files="@(CoreOutputFiles->'$(AddonPluginsOutputDir)%(RecursiveDir)%(Filename)%(Extension)')" />
  </Target>
</Project>